---
layout: post
title: 重构: 改善既有代码的设计
category: read
---
<img class="cover" title="9787115221704" src="/images/2012/01/9787115221704-228x300.jpg" alt="重构: 改善既有代码的设计" width="228" height="300" />

ISBN: 9787115221704

作者: Martin Fowler

译者: 熊节

出版社: 人民邮电出版社

出版时间: 2010.04

评价: ☆☆☆☆☆

所谓重构（refactoring）是这样一个过程: 在不改变代码外在行为的前提下，对代码做出修改，以改进程序的内部结构。重构是一种经过千锤百炼形成的有条不紊的程序整理方法，可以最大限度地减少整理过程中引入错误的几率。本质上说，重构就是在代码写好之后改进它的设计。

重构的基本技巧——小步前进，频繁测试。（PS: 这个很重要，经常一次改动过多，如果再被其他的事情打断或干扰，等再继续的时候已经忘了刚才该到哪了）

重构中提到的方法有很多种在实际编码中都使用过，只是当时自己不知道罢了。这本书作者总结了一些重构的方法，如果是自己使用过的就会产生强烈的共鸣，引起你的回忆，从而加深印象。对于没有使用过的，则可以提供一种思路，你会发觉原来还可以这么做，编程会更加灵活，可以选择的方法也会变得更多。

当你感觉需要撰写注释时，请先尝试重构，试着让所有注释都变得多余。

如果你需要给一个运行中的系统添加功能，你不可能说服经理把系统停止运行两个月让你进行重构。你只能一点一点地做你的工作，今天一点点，明天一点点。

永远不要忘记“两顶帽子”。重构时你总会发现某些代码并不正确。你绝对相信自己的判断，因此想马上把它们改正过来。啊，顶住诱惑，别那么做。重构时你的目标之一就是保持代码的功能完全不变，既不多也不少。对于那些需要修改的东西，列个清单把它们记录下来，需要添加或修改的测试用例。需要进行的其他重构、需要撰写的文档、需要画的图······都暂时记上。这样就不会忘记这些需要完成的工作。千万别让这些工作打乱你手上的工作。重构完成之后，再去做这些事情也不迟。
